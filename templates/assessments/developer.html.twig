{% extends 'base.html.twig' %}

{% block title %}Hello AssessmentsController!{% endblock %}

{% block body %}
<div class="container">
    <h1 class="display-1">{{ title }}</h1>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Topic</th>
                <th scope="col">Assessment</th>
            </tr>
        </thead>
        <tbody>
            {% for assessment in assessments %}
            <tr>
                <th scope="row">{{ assessment.topic.name }}</th>
                <td>
                    <div
                        data-controller="assessment"
                        data-assessment-url-value="{{ path('app_assessments_topic', {'source': assessment.source.key, 'target': assessment.target.id, 'topic': assessment.topic.id}) }}"
                        class="btn-group"
                    >
                        {{ include('assessments/assessment.html.twig') }}
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <div class="d-flex flex-row-reverse">
        <a href="{{ path('app_assessments', {'key': source.key}) }}" class="btn btn-primary">Back</a>
    </div>

</div>
{% endblock %}
